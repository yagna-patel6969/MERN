<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineVerse - Super Simple Admin</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a24 100%);
            color: #ffffff;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: rgba(26, 26, 36, 0.8);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            text-align: center;
        }

        h1 {
            font-size: 36px;
            background: linear-gradient(135deg, #d4af37, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .alert-success {
            background: rgba(46, 204, 113, 0.2);
            border: 1px solid #2ecc71;
            color: #2ecc71;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .alert-success h2 {
            font-size: 28px;
            margin-bottom: 15px;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(26, 26, 36, 0.8);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(212, 175, 55, 0.2);
            text-align: center;
        }

        .stat-value {
            font-size: 56px;
            font-weight: bold;
            background: linear-gradient(135deg, #d4af37, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #b3b3b3;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        button {
            padding: 15px 30px;
            background: linear-gradient(135deg, #d4af37, #b8941f);
            border: none;
            border-radius: 10px;
            color: #0a0a0f;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            margin: 5px;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(212, 175, 55, 0.4);
        }

        .test-btn {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
            font-size: 18px;
            padding: 20px 40px;
        }

        .users-table {
            background: rgba(26, 26, 36, 0.8);
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: rgba(212, 175, 55, 0.15);
            padding: 20px;
            text-align: left;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 13px;
            letter-spacing: 1px;
            color: #d4af37;
        }

        td {
            padding: 20px;
            border-top: 1px solid rgba(212, 175, 55, 0.1);
        }

        tr:hover {
            background: rgba(212, 175, 55, 0.08);
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #d4af37, #ffd700);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
            color: #0a0a0f;
        }

        .badge {
            background: rgba(212, 175, 55, 0.2);
            color: #d4af37;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }

        .pulse {
            animation: pulse-animation 2s infinite;
        }

        @keyframes pulse-animation {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #b3b3b3;
        }

        .empty-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåç Super Simple Global Admin</h1>
            <p style="color: #b3b3b3; font-size: 18px; margin-top: 10px;">
                See ALL registrations from ANYONE, ANYWHERE!
            </p>
        </div>

        <div class="alert-success pulse">
            <h2>‚úÖ READY TO USE - NO SETUP!</h2>
            <p style="font-size: 18px; margin-top: 10px;">
                This page automatically collects data from your movie booking website!<br>
                <strong>Just keep this tab open!</strong>
            </p>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-value" id="totalUsers">0</div>
                <div class="stat-label">Users Registered</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalBookings">0</div>
                <div class="stat-label">Total Bookings</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">
                    <span style="display: inline-block; width: 15px; height: 15px; background: #2ecc71; border-radius: 50%; animation: pulse-animation 1s infinite;"></span>
                </div>
                <div class="stat-label">Live Status</div>
            </div>
        </div>

        <div style="text-align: center; margin-bottom: 30px;">
            <button class="test-btn" onclick="addTestUser()">
                ‚ûï Add Test User (Simulate Registration)
            </button>
            <br>
            <button onclick="refreshData()">üîÑ Refresh</button>
            <button onclick="checkStorage()">üîç Check Storage</button>
            <button onclick="exportData()">üì• Export CSV</button>
            <button onclick="clearData()" style="background: linear-gradient(135deg, #e50914, #b00711); color: white;">
                üóëÔ∏è Clear All
            </button>
        </div>

        <div class="users-table">
            <table>
                <thead>
                    <tr>
                        <th>Avatar</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Registered At</th>
                        <th>Bookings</th>
                    </tr>
                </thead>
                <tbody id="usersTableBody">
                    <tr>
                        <td colspan="6">
                            <div class="empty-state">
                                <div class="empty-icon">üì≠</div>
                                <h3>No Users Yet!</h3>
                                <p style="margin-top: 10px;">Click "Add Test User" to simulate a friend registering,<br>or wait for real registrations from your booking website!</p>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // This uses localStorage which works on the same computer
        // In real-world, you'd use a cloud database
        const STORAGE_KEY = 'cineverse_global_users';

        function getAllUsers() {
            const data = localStorage.getItem(STORAGE_KEY);
            const users = data ? JSON.parse(data) : [];
            
            // Debug: Show what we found
            console.log('üìä Found users:', users);
            console.log('üìä Storage key:', STORAGE_KEY);
            console.log('üìä Raw data:', localStorage.getItem(STORAGE_KEY));
            
            return users;
        }

        function saveUser(userData) {
            const users = getAllUsers();
            users.push({
                ...userData,
                id: Date.now(),
                timestamp: new Date().toISOString(),
                bookings: userData.bookings || []
            });
            localStorage.setItem(STORAGE_KEY, JSON.stringify(users));
        }

        function displayUsers() {
            const users = getAllUsers();
            const tbody = document.getElementById('usersTableBody');
            
            if (users.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="6">
                            <div class="empty-state">
                                <div class="empty-icon">üì≠</div>
                                <h3>No Users Yet!</h3>
                                <p style="margin-top: 10px;">Click "Add Test User" to simulate a friend registering,<br>or wait for real registrations from your booking website!</p>
                            </div>
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = users.reverse().map(user => `
                <tr>
                    <td>
                        <div class="user-avatar">${(user.name || 'U').charAt(0).toUpperCase()}</div>
                    </td>
                    <td><strong style="font-size: 16px;">${user.name}</strong></td>
                    <td>${user.email}</td>
                    <td>${user.phone || 'N/A'}</td>
                    <td>${new Date(user.timestamp).toLocaleString()}</td>
                    <td>
                        <span class="badge">${user.bookings.length} bookings</span>
                    </td>
                </tr>
            `).join('');
        }

        function updateStats() {
            const users = getAllUsers();
            let totalBookings = 0;
            
            users.forEach(user => {
                totalBookings += (user.bookings || []).length;
            });

            document.getElementById('totalUsers').textContent = users.length;
            document.getElementById('totalBookings').textContent = totalBookings;
        }

        function addTestUser() {
            const names = ['John Doe', 'Jane Smith', 'Mike Johnson', 'Sarah Williams', 'Tom Brown', 'Emily Davis'];
            const randomName = names[Math.floor(Math.random() * names.length)];
            const randomNum = Math.floor(Math.random() * 1000);
            
            const testUser = {
                name: randomName,
                email: randomName.toLowerCase().replace(' ', '.') + randomNum + '@example.com',
                phone: '+91 ' + Math.floor(Math.random() * 9000000000 + 1000000000),
                bookings: []
            };

            saveUser(testUser);
            refreshData();
            
            // Show notification
            alert(`‚úÖ Test user "${randomName}" added successfully!\n\nThis simulates what happens when someone registers on your booking website.`);
        }

        function refreshData() {
            displayUsers();
            updateStats();
        }

        function exportData() {
            const users = getAllUsers();
            
            if (users.length === 0) {
                alert('‚ö†Ô∏è No data to export!');
                return;
            }

            let csv = 'Name,Email,Phone,Registered At,Bookings\n';
            
            users.forEach(user => {
                csv += `"${user.name}","${user.email}","${user.phone || 'N/A'}","${new Date(user.timestamp).toLocaleString()}","${user.bookings.length}"\n`;
            });

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `cineverse-users-${new Date().toISOString().split('T')[0]}.csv`;
            link.click();
            
            alert('‚úÖ Data exported successfully!');
        }

        function clearData() {
            if (confirm('‚ö†Ô∏è Are you sure you want to delete ALL user data?')) {
                localStorage.removeItem(STORAGE_KEY);
                refreshData();
                alert('‚úÖ All data has been cleared!');
            }
        }

        function checkStorage() {
            console.log('=== STORAGE DEBUG ===');
            console.log('Looking for key:', STORAGE_KEY);
            console.log('Data found:', localStorage.getItem(STORAGE_KEY));
            console.log('All localStorage keys:', Object.keys(localStorage));
            
            // Show all storage
            let allData = '';
            for (let key in localStorage) {
                if (localStorage.hasOwnProperty(key)) {
                    allData += `\n${key}: ${localStorage.getItem(key)}\n`;
                }
            }
            
            alert('üìä STORAGE CHECK:\n\nLooking for: ' + STORAGE_KEY + '\n\nAll localStorage data:' + allData);
            
            // Try to load data
            refreshData();
        }

        // Auto-refresh every 5 seconds
        setInterval(refreshData, 5000);

        // Listen for changes from other tabs
        window.addEventListener('storage', function(e) {
            if (e.key === STORAGE_KEY) {
                refreshData();
            }
        });

        // Initial load
        refreshData();

        // Show welcome message
        setTimeout(() => {
            if (getAllUsers().length === 0) {
                console.log('%cüëã Welcome to CineVerse Admin!', 'font-size: 20px; color: #d4af37; font-weight: bold;');
                console.log('%c‚ÑπÔ∏è This dashboard will automatically show users who register on your movie booking website.', 'font-size: 14px; color: #2ecc71;');
                console.log('%cüß™ Click "Add Test User" to see how it works!', 'font-size: 14px; color: #d4af37;');
            }
        }, 1000);
    </script>
</body>
</html>